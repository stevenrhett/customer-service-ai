# Customer Service AI - Backend Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================
# Required: OpenAI Configuration
# ============================================
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================
# Required: AWS Bedrock Configuration
# ============================================
# AWS credentials for accessing Bedrock (used by orchestrator for routing)
# You can also use AWS CLI configured credentials or IAM roles
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-west-2

# ============================================
# Optional: Application Configuration
# ============================================
# Environment: development, staging, or production
ENVIRONMENT=development

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================
# Optional: Vector Database Configuration
# ============================================
# Directory where ChromaDB stores its data
CHROMA_PERSIST_DIRECTORY=./chroma_db

# ============================================
# Optional: API Configuration
# ============================================
# Host and port for the FastAPI server
API_HOST=0.0.0.0
API_PORT=8000

# ============================================
# Optional: CORS Configuration
# ============================================
# Comma-separated list of allowed origins
# For production, use your actual frontend URL(s)
CORS_ORIGINS=http://localhost:3000
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# ============================================
# Optional: Frontend Configuration
# ============================================
# Frontend URL (used for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# ============================================
# Optional: Rate Limiting Configuration
# ============================================
# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true
# Requests per minute per IP address
RATE_LIMIT_PER_MINUTE=60
# Requests per hour per IP address
RATE_LIMIT_PER_HOUR=1000

# ============================================
# PRODUCTION SECURITY SETTINGS
# ============================================

# Authentication Configuration
# CRITICAL: Enable authentication in production!
REQUIRE_AUTHENTICATION=false  # Set to 'true' for production
# Comma-separated API keys for X-API-Key header authentication
# Generate secure keys with: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEYS=your-secure-api-key-1,your-secure-api-key-2
# JWT secret key for token signing (generate a secure random string)
JWT_SECRET_KEY=your-secure-jwt-secret-minimum-32-characters-long
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# HTTPS & Transport Security
# CRITICAL: Enable HTTPS in production!
ENFORCE_HTTPS=false  # Set to 'true' for production
ALLOWED_HOSTS=*  # Comma-separated list of allowed hostnames in production

# Request Security
MAX_REQUEST_SIZE=10485760  # Maximum request size in bytes (10MB)

# Data Security & Privacy
# Enable encryption for sensitive data at rest
ENABLE_ENCRYPTION_AT_REST=false
# Encryption key (32+ bytes, base64 encoded recommended)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
ENCRYPTION_KEY=your-encryption-key-at-least-32-characters
# Mask PII in logs (emails, phone numbers, etc.)
MASK_PII_IN_LOGS=true

# ============================================
# Optional: AWS Secrets Manager (Advanced)
# ============================================
# If you want to use AWS Secrets Manager instead of environment variables
# Set ENABLE_SECRETS_MANAGER=true and configure the following:
ENABLE_SECRETS_MANAGER=false
SECRETS_MANAGER_REGION=us-west-2
SECRETS_MANAGER_SECRET_NAME=customer-service-ai-secrets

# ============================================
# PRODUCTION CHECKLIST
# ============================================
# Before deploying to production, ensure:
# ✓ ENVIRONMENT=production
# ✓ REQUIRE_AUTHENTICATION=true
# ✓ API_KEYS set with secure random values
# ✓ JWT_SECRET_KEY set with secure random value (32+ chars)
# ✓ ENFORCE_HTTPS=true
# ✓ CORS_ORIGINS set to your actual frontend URL(s) - NO wildcards!
# ✓ MASK_PII_IN_LOGS=true
# ✓ LOG_LEVEL=INFO or WARNING
# ✓ All secrets stored securely (not in git!)
# ✓ AWS credentials use IAM roles (not hardcoded keys)
# ✓ Rate limiting enabled with appropriate limits
